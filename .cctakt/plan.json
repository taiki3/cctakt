{
  "version": 1,
  "created_at": 0,
  "description": "テーマ選択メニューUI追加",
  "tasks": [
    {
      "id": "worker-theme-menu",
      "action": {
        "type": "create_worker",
        "branch": "feat/theme-selector-menu",
        "task_description": "## テーマ選択メニューUI追加\n\nキーバインドでテーマ選択メニューを表示し、リアルタイムでテーマを切り替えられる機能を実装してください。\n\n### 実装内容\n\n#### 1. テーマのランタイム切り替え対応 (`src/theme.rs`)\n\n現在は `OnceLock` で起動時のみ設定可能。`RwLock` に変更してランタイム切り替えを可能にする。\n\n#### 2. 利用可能なテーマ一覧を取得する関数追加 (`src/theme.rs`)\n\n```rust\npub fn available_themes() -> &'static [(&'static str, &'static str)] {\n    &[\n        (\"cyberpunk\", \"Cyberpunk - ネオンカラーのサイバーパンク風\"),\n        (\"monokai\", \"Monokai - クラシックなエディタカラー\"),\n        (\"dracula\", \"Dracula - 人気のダークテーマ\"),\n        (\"nord\", \"Nord - 北欧の青みのあるパレット\"),\n        (\"arctic\", \"Arctic Aurora - オーロラ風の幻想的なテーマ\"),\n        (\"minimal\", \"Minimal - 控えめでプロフェッショナル\")\n    ]\n}\n```\n\n#### 3. テーマ選択モーダルUI (`src/main.rs`)\n\n- 中央にポップアップ表示\n- 上下キーでテーマ選択\n- Enterで確定、Escでキャンセル\n- 選択中のテーマをハイライト表示\n- 現在のテーマにチェックマーク表示\n\n#### 4. キーバインド追加 (`src/main.rs`)\n\n- `Ctrl+T` でテーマ選択メニューを開く\n- `handle_keybinding()` に追加\n\n#### 5. 設定ファイルへの保存 (`src/config.rs`)\n\nテーマ変更時に `.cctakt.toml` を更新して永続化\n\n#### 6. App状態の追加\n\n`App` 構造体に以下を追加:\n- `show_theme_picker: bool`\n- `theme_picker_index: usize`\n\n### UI デザイン例\n\n```\n┌─────────────────────────────┐\n│      テーマを選択           │\n├─────────────────────────────┤\n│   Cyberpunk              ✓  │\n│ > Monokai                   │\n│   Dracula                   │\n│   Nord                      │\n│   Arctic Aurora             │\n│   Minimal                   │\n├─────────────────────────────┤\n│  Enter: 選択  Esc: キャンセル │\n└─────────────────────────────┘\n```\n\n### 注意事項\n\n- `theme()` の戻り値の型が変わるので、既存の呼び出し箇所も調整が必要\n- `ColorTheme` トレイトに `Send + Sync` が必要になる可能性あり\n- テーマ切り替え後は画面全体を再描画\n\n完了後は必ず `cargo build` で確認し、git add && git commit してください。",
        "base_branch": null
      },
      "status": "completed",
      "error": null,
      "updated_at": 1768664882,
      "result": {
        "commits": [
          "a483fe1 feat: Add theme selector menu with Ctrl+T keybinding"
        ],
        "pr_number": null,
        "pr_url": null
      }
    }
  ]
}